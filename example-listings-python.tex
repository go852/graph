\documentclass{beamer}
\usepackage{listings}
\usepackage{xcolor}  % 可选：添加颜色

\begin{document}

\begin{frame}[fragile]
\frametitle{Python 示例代码}
以下是一个简单的 Python 程序，它计算两个数的和并输出结果：
\begin{lstlisting}[language=Python, caption=计算两个数的和, label={lst:sum}, frame=single, numbers=left, backgroundcolor=\color{lightgray}]
# 计算两个数的和
def add_numbers(a, b):
    return a + b

# 主程序
x = 10
y = 20
result = add_numbers(x, y)
print(f"结果是: {result}")
\end{lstlisting}

\end{frame}

\end{document}
